{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["(function($){\n\n    var aboutSection = $('.section-blue');\n\n    $('.main-button').click(function () {\n        $('html, body').animate({\n            scrollTop: aboutSection.offset().top\n        }, 500);\n        return false;\n    });\n\n    var $window = $(window);\n    var nav = $('nav');\n    var $navLinks = $('.nav-list-link');\n    var $htmlAndBody = $('html, body');\n    var $sections = $('.section');\n\n    $navLinks.on(\"click\", function(e) {\n        e.preventDefault();\n        var $self = $(this);\n        var sectionId = $self.data(\"section-id\");\n\n        $htmlAndBody.animate({\n            scrollTop: $(\"#\" + sectionId)\n                .offset()\n                .top - 50\n        }, 300, function() {\n            $navLinks.removeClass(\"active\");\n            $self.addClass(\"active\");\n        });\n    });\n\n    $window.on('mousewheel scroll', function() {\n        console.log('ni');\n        var aboveBlocks = $sections.map(function(i, section) {\n            if (section.getBoundingClientRect().top <= $window.height() / 3) {\n                return section;\n            }\n        });\n        $navLinks.removeClass(\"active\");\n        $($navLinks[aboveBlocks.length - 1]).addClass(\"active\");\n    });\n\n    $('.hamburger-button').click(function() {\n\n        if (nav.hasClass('open')) {\n            nav.removeClass('open');\n            return;\n        }\n\n        nav.addClass('open');\n    });\n\n    $(window).resize(function () {\n        if ($window.width > 610 && isScreenLarge === false) {\n            isScreenLarge = true;\n            nav.removeClass('compact'); \n            nav.removeClass('open');\n            hamburgerButton.removeClass('active');\n        } \n\n        if ($window <= 610 && isScreenLarge === true) {\n            isScreenLarge = false;\n            nav.addClass('compact');\n        }\n    }); \n\n    var updateValidErrors = function ($form, validErrors) { \n        $form.find('input').each(function (index, input) { \n            var $input = $(input);\n            var fieldName = $input.attr('name');\n            var $errorBlock = $input.next('.Error');\n            var $errorMsg = validErrors[fieldName] == true ? validErrors[fieldName][0] : '';\n            $errorBlock.text($errorMsg);\n        });\n    });\n\n    $('.form').submit(function (e) { \n        e.preventDefault();\n\n        var $this = $(this);\n\n        var request = $.ajax({\n            url: $this.attr('action'),\n            method: 'POST',\n            data: $this.serialize()\n        });\n\n        request.done(function (response) {\n            if ($this.closest('.Modal').length != 0) {\n                $('.Nav__item--modal').remove();\n                $('.Nav__list').append('<li class=\"Nav__item\"><a href=\"/profile\" class=\"Nav__link\"><span>My profile</span></a></li>');\n                $('.Nav__list').append('<li class=\"Nav__item\"><a href=\"/logout\" class=\"Nav__link\"><span>Logout</span></a></li>');\n                ohSnap(response.message, {color: 'green'});\n                $('.Modal__overlay').trigger('click');\n            } else {\n                updateValidErrors($this, {});\n                ohSnap(response.notifyMessage, {color: 'green'});\n                $this.next().html(response.message);\n                $('html, body').animate({scrollTop: $('.Block').position().top}, 'slow');\n            }\n        });\n\n        request.fail(function (response) { \n            ohSnap(response.responseJSON.message || 'Please, fix valid errors', {color: 'red'});\n            updateValidErrors($this, response.responseJSON);\n        });\n    }};\n\n})(jQuery);\n"],"sourceRoot":"/source/"}